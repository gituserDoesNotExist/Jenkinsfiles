pipeline {
	agent any
	
	stages {
		stage('checkout') {
			steps {
				git url: 'https://github.com/gituserDoesNotExist/game-portal.git'
			}
		}
		stage('test stage') {
			steps {
				sh '''echo "hello world"
					pwd
					root=$(pwd)
					target=$root/"WebContent"
					cd ..
					source=$(pwd)/"Angular/public/"

					cd $target
					ls --ignore "META-INF" --ignore "WEB-INF" | xargs -I {} rm -r {}

					cd $source
					ls | xargs -I {} cp -r {} $target
					'''
			}
		}
	}
}
